Zotero.ZoteroPubPeer = {
	// Localization (borrowed from Zotero sourcecode)
	ZFgetString: function (name, params) {
        var l10n = '';
		this.stringsBundle = Components.classes['@mozilla.org/intl/stringbundle;1']
			.getService(Components.interfaces.nsIStringBundleService)
			.createBundle('chrome://zoteropubpeer/locale/zoteropubpeer.properties');
		try {
			if (params !== undefined){
				if (typeof params != 'object'){
					params = [params];
				}
				l10n = this.stringsBundle.formatStringFromName(name, params, params.length);
			}
			else {
				l10n = this.stringsBundle.GetStringFromName(name);
			}
		}
		catch (e){
			throw ('Localized string not available for ' + name);
		}
		return l10n;
	},
	
	sayHello: function () {
		var ps = Components.classes["@mozilla.org/embedcomp/prompt-service;1"]
				.getService(Components.interfaces.nsIPromptService);
		ps.confirm(null, "Please confirm", "This is PubPeer");
	},
	
	showPopup: function() {
		var ps = Components.classes["@mozilla.org/embedcomp/prompt-service;1"]
				.getService(Components.interfaces.nsIPromptService);
		ps.alert(null, Zotero.ZoteroPubPeer.ZFgetString('zoteropubpeer-popup-title'),
					   Zotero.ZoteroPubPeer.ZFgetString('zoteropubpeer-popup-content', '<id>', 0));
	},
	
		

};